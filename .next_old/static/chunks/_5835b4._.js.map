{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/Nav.jsx"],"sourcesContent":["\"use client\";\n\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { useState, useEffect } from 'react';\nimport { signIn, signOut, useSession, getProviders } from 'next-auth/react';\n\nconst Nav = () => {\n    const { data: session } = useSession();\n\n    const [providers, setProviders ] = useState(null);\n\n    const [toggleDropdown, setToggleDropdown] = useState(false);\n\n    useEffect(() => {\n        const setupProviders = async () => {\n            const response = await getProviders();\n\n            setProviders(response);\n        }\n\n        setupProviders();\n    }, [])\n\n  return (\n    <nav className='flex-between w-full mb-8 pt-3'>\n\n        <Link href=\"/\" className=\"flex gap-2 flex-center\">\n            <div className='w-full flex-center flex-col'>\n                <div className='w-full flex-center flex-row'>\n                    <h1 className='head_text text-center'>\n                        GeoRaffe\n                    </h1>\n                </div>\n                <div className='w-full flex-center flex-row'>\n                    <h2 className='subhead_text text-center'>\n                    <span className='orange_gradient text-center'>Next-level georeferencing</span>\n                    </h2>\n                </div>\n            </div>\n        </Link>\n\n        { /* Desktop Nav */ }\n        <div className='sm:flex hidden'>\n            {session?.user ? (\n                <div className='flex gap-3 md:gap-5'>\n\n                    <button type=\"button\" onClick={signOut}\n                    className='outline_btn'>\n                        Sign Out\n                    </button>\n\n                    <Link href=\"/profile\">\n                        <Image src={session?.user.image} \n                        width={37}\n                        height={37}\n                        className='rounded-full'\n                        alt='profile'/>\n                    </Link>\n                </div>\n            ): (\n                <>\n                    {providers && \n                        Object.values(providers).map((provider) => (\n                            <button\n                                type=\"button\"\n                                key={provider.name}\n                                onClick={() => signIn(provider.id)}\n                                className='black_btn'>\n                                Sign In\n                            </button>\n                        )\n                    \n                    )\n                    }\n                </>\n            )}\n        </div>\n\n        { /* Mobile Nav */ }\n        <div className='sm:hidden flex relative'>\n            {session?.user ? (\n                <div className='flex'>\n                    <Image \n                        src=\"/assets/images/logo.svg\" \n                        width={37}\n                        height={37}\n                        className='rounded-full'\n                        alt='profile'\n                        onClick={() => setToggleDropdown((prev) => !prev)}\n                    />\n\n                    {toggleDropdown && (\n                        <div className='dropdown'>\n                            <Link\n                                href=\"/profile\"\n                                className='dropdown_link'\n                                onClick={() => setToggleDropdown(false)}\n                            >\n                                My Profile\n                            </Link>\n                            <Link\n                                href=\"/create-prompt\"\n                                className='dropdown_link'\n                                onClick={() => setToggleDropdown(false)}\n                            >\n                                Create Prompt\n                            </Link>\n                            <button\n                                type=\"button\"\n                                onClick={() => {\n                                    setToggleDropdown(false);\n                                    signOut();\n                                }}\n                                className='mt-5 w-full black_btn'\n                            >\n                                Sign Out\n                            </button>\n                        </div>\n                    )}\n                </div>\n            ) : (\n                <>\n                    {providers && \n                        Object.values(providers).map((provider) => (\n                            <button\n                                type=\"button\"\n                                key={provider.name}\n                                onClick={() => signIn(provider.id)}\n                                className='black_btn'>\n                                Sign In\n                            </button>\n                        ))\n                    }\n                </>\n            )}\n        </div>\n    </nav>\n  )\n}\n\nexport default Nav"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;AAOA,MAAM,MAAM;;IACR,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,CAAA,GAAA,iJAAA,CAAA,aAAU,AAAD;IAEnC,MAAM,CAAC,WAAW,aAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE5C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,iBAAiB;YACnB,MAAM,WAAW,MAAM,CAAA,GAAA,iJAAA,CAAA,eAAY,AAAD;YAElC,aAAa;QACjB;QAEA;IACJ,GAAG,EAAE;IAEP,qBACE,6LAAC;QAAI,WAAU;;0BAEX,6LAAC,+HAAA,CAAA,UAAI;gBAAC,MAAK;gBAAI,WAAU;0BACrB,cAAA,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC;gCAAG,WAAU;0CAAwB;;;;;;;;;;;sCAI1C,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC;gCAAG,WAAU;0CACd,cAAA,6LAAC;oCAAK,WAAU;8CAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAO1D,6LAAC;gBAAI,WAAU;0BACV,SAAS,qBACN,6LAAC;oBAAI,WAAU;;sCAEX,6LAAC;4BAAO,MAAK;4BAAS,SAAS,iJAAA,CAAA,UAAO;4BACtC,WAAU;sCAAc;;;;;;sCAIxB,6LAAC,+HAAA,CAAA,UAAI;4BAAC,MAAK;sCACP,cAAA,6LAAC,gIAAA,CAAA,UAAK;gCAAC,KAAK,SAAS,KAAK;gCAC1B,OAAO;gCACP,QAAQ;gCACR,WAAU;gCACV,KAAI;;;;;;;;;;;;;;;;yCAIZ;8BACK,aACG,OAAO,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC,yBAC1B,6LAAC;4BACG,MAAK;4BAEL,SAAS,IAAM,CAAA,GAAA,iJAAA,CAAA,SAAM,AAAD,EAAE,SAAS,EAAE;4BACjC,WAAU;sCAAY;2BAFjB,SAAS,IAAI;;;;;;;;;;;0BAc1C,6LAAC;gBAAI,WAAU;0BACV,SAAS,qBACN,6LAAC;oBAAI,WAAU;;sCACX,6LAAC,gIAAA,CAAA,UAAK;4BACF,KAAI;4BACJ,OAAO;4BACP,QAAQ;4BACR,WAAU;4BACV,KAAI;4BACJ,SAAS,IAAM,kBAAkB,CAAC,OAAS,CAAC;;;;;;wBAG/C,gCACG,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,+HAAA,CAAA,UAAI;oCACD,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,kBAAkB;8CACpC;;;;;;8CAGD,6LAAC,+HAAA,CAAA,UAAI;oCACD,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,kBAAkB;8CACpC;;;;;;8CAGD,6LAAC;oCACG,MAAK;oCACL,SAAS;wCACL,kBAAkB;wCAClB,CAAA,GAAA,iJAAA,CAAA,UAAO,AAAD;oCACV;oCACA,WAAU;8CACb;;;;;;;;;;;;;;;;;yCAOb;8BACK,aACG,OAAO,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC,yBAC1B,6LAAC;4BACG,MAAK;4BAEL,SAAS,IAAM,CAAA,GAAA,iJAAA,CAAA,SAAM,AAAD,EAAE,SAAS,EAAE;4BACjC,WAAU;sCAAY;2BAFjB,SAAS,IAAI;;;;;;;;;;;;;;;;;AAYlD;GApIM;;QACwB,iJAAA,CAAA,aAAU;;;KADlC;uCAsIS"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/Provider.jsx"],"sourcesContent":["\"use client\";\n\nimport { SessionProvider } from 'next-auth/react';\n\nconst Provider = ({ children, session }) => {\n  return (\n    <SessionProvider session={session}>\n        {children}\n    </SessionProvider>\n  )\n}\n\nexport default Provider"],"names":[],"mappings":";;;;;;AAAA;;;AAIA,MAAM,WAAW,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE;IACrC,qBACE,6LAAC,iJAAA,CAAA,kBAAe;QAAC,SAAS;kBACrB;;;;;;AAGT;KANM;uCAQS"}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 275, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/utils/enums.jsx"],"sourcesContent":["export const MapStatus = {\n    New: 'new',\n    Tiling: 'tiling',\n    TilingDone: 'tilingDone',\n    ErrorWhileTiling: 'errorWhileTiling',\n    SyncingWithStorage: 'syncingWithStorage',\n    Synced: 'synced',\n    Uploading: 'uploading',\n    Ready: 'ready'\n}\n\nexport const CurrentControlPointStatus = {\n    FromPointSelected: 'fromPointSelected',\n    ToPointSelected: 'toPointSelected',\n    FreeForSelection: 'freeForSelection',\n    ReadyForSaving: 'readyForSaving',\n    EditExisting: 'editExisting'\n}\n\nexport const ControlPointSelection = {\n    From: 'from',\n    To: 'to',\n    Both: 'both'\n}\n\nexport const TransformationType = {\n    Polynomial: 'polynomial',\n    Polynomial2: 'polynomial2',\n    Polynomial3: 'polynomial3',\n    ThinPlateSpline: 'thinPlateSpline',\n    Projective: 'projective'\n}\n\nexport const TransformationTypes = [\n    TransformationType.Polynomial,\n    TransformationType.Polynomial2,\n    TransformationType.Polynomial3,\n    TransformationType.ThinPlateSpline,\n    TransformationType.Projective\n]\n\nexport const TransformationTypeLabels = {\n    'polynomial' : '1st order Polynomial',\n    'polynomial2' : '2nd order Polynomial',\n    'polynomial3' : '3rd order Polynomial',\n    'thinPlateSpline' : 'Thin plate spline',\n    'projective' : 'Projective'\n}\n\nexport const TransformationTypesMinGCP = {\n    'polynomial' : 3,\n    'polynomial2' : 6,\n    'polynomial3' : 10,\n    'thinPlateSpline' : 3,\n    'projective' : 4\n}"],"names":[],"mappings":";;;;;;;;;AAAO,MAAM,YAAY;IACrB,KAAK;IACL,QAAQ;IACR,YAAY;IACZ,kBAAkB;IAClB,oBAAoB;IACpB,QAAQ;IACR,WAAW;IACX,OAAO;AACX;AAEO,MAAM,4BAA4B;IACrC,mBAAmB;IACnB,iBAAiB;IACjB,kBAAkB;IAClB,gBAAgB;IAChB,cAAc;AAClB;AAEO,MAAM,wBAAwB;IACjC,MAAM;IACN,IAAI;IACJ,MAAM;AACV;AAEO,MAAM,qBAAqB;IAC9B,YAAY;IACZ,aAAa;IACb,aAAa;IACb,iBAAiB;IACjB,YAAY;AAChB;AAEO,MAAM,sBAAsB;IAC/B,mBAAmB,UAAU;IAC7B,mBAAmB,WAAW;IAC9B,mBAAmB,WAAW;IAC9B,mBAAmB,eAAe;IAClC,mBAAmB,UAAU;CAChC;AAEM,MAAM,2BAA2B;IACpC,cAAe;IACf,eAAgB;IAChB,eAAgB;IAChB,mBAAoB;IACpB,cAAe;AACnB;AAEO,MAAM,4BAA4B;IACrC,cAAe;IACf,eAAgB;IAChB,eAAgB;IAChB,mBAAoB;IACpB,cAAe;AACnB"}},
    {"offset": {"line": 334, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/MyMapsDrawer.jsx"],"sourcesContent":["\n\"use client\";\n\nimport { Button, Drawer, Sidebar, Avatar, Dropdown, Spinner } from \"flowbite-react\";\nimport { useState } from \"react\";\n\nimport toast from 'react-hot-toast';\n\nimport { MapStatus } from \"@utils/enums\";\n\nimport {\n    HiDotsVertical\n  } from \"react-icons/hi\";\n\nexport default function MyMapsDrawer({ maps, setMaps, selectedMap, setSelectedMap }) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleClose = () => setIsOpen(false);\n\n  const handleDelete = async (mapId) => {\n    const hasConfirmed = confirm(\"Are you sure you want to delete this map?\");  \n\n    if (hasConfirmed) {\n        try {\n            await fetch(`/api/map/${mapId}`, {\n                method: 'DELETE'\n            })\n\n            const filteredMaps = maps.filter((p) => p._id !== mapId)\n\n            setMaps(filteredMaps);\n\n            toast.success('Map deleted successfully!', {\n              position: 'top-left',\n            })\n        } catch (error) {\n            console.log(error);\n        }\n    }\n  }\n\n  const getFullImageUrl = (fileId) => {\n    const filenameWithoutExt = fileId.substring(0, fileId.lastIndexOf('.'));\n    let fullUrl = `https://${process.env.NEXT_PUBLIC_AWS_S3_TILES_BUCKET}.s3.${process.env.NEXT_PUBLIC_AWS_S3_REGION}.amazonaws.com/${filenameWithoutExt}/tiles/0/0/0.png`;\n    return fullUrl;\n  }\n\n  const handleSelectMap = async (mapId) => {\n    try {\n      const response = await fetch(`/api/map/${mapId}`, {\n          method: 'GET'\n      })\n\n      const map = await response.json();\n      // we need to wrap it in an array because this is the expected underlying data structure\n      const responseMap = map;\n      setSelectedMap(responseMap);\n\n    } catch (error) {\n        console.log(error);\n    }\n  }\n// * tiles hochladen\n// * status hier anzeigen\n  const MyMapsList = ({ data }) => {\n    return (\n      <>\n        {data.map((map) => (\n          // <Sidebar.Item key={map._id} href={`/api/map/${map._id}`}>\n          <Sidebar.Item key={map._id} onClick={() => handleSelectMap(map._id)} className={selectedMap._id == map._id ? 'selected_item selectable_item' : 'selectable_item'}>\n            {map.status == MapStatus.Ready ? ( \n            <div className=\"flex h-full flex-row justify-between py-2\">\n              <div className='flex flow-row px-2 text-cyan-600 hover:no-underline dark:text-cyan-500'>\n                <Avatar img={getFullImageUrl(map.fileId)} className=\"px-2\"/>\n                <span>{map.title}</span>\n              </div>\n              <Dropdown placement=\"left\" label=\"\" dismissOnClick={false} renderTrigger={() => <span className=\"cursor-pointer\"><HiDotsVertical /></span>}>\n                <Dropdown.Item onClick={() => handleDelete(map._id)}>Delete</Dropdown.Item>\n              </Dropdown>\n            </div>\n            ): (\n              <div className=\"flex h-full flex-row justify-between py-2 text-gray-300\">\n                <span>{map.title} (processing)</span><Spinner aria-label=\"Default status example\" />\n              </div>\n            )}\n          </Sidebar.Item>\n        ))}\n      </>\n    )\n  }\n\n  return (\n    <>\n      <div className=\"flex min-h-[50vh] items-center justify-center\">\n        <Button onClick={() => setIsOpen(true)}>My Maps</Button>\n      </div>\n      <Drawer open={isOpen} onClose={handleClose} className=\"drawer\">\n        <Drawer.Header title=\"My Maps\" />\n        <Drawer.Items>\n        <Sidebar\n            aria-label=\"Sidebar with multi-level dropdown example\"\n            className=\"[&>div]:bg-transparent [&>div]:p-0\"\n          >\n            <div className=\"flex h-full flex-col justify-between py-2\">\n              <div>\n                <Sidebar.Items>\n                    <Sidebar.ItemGroup>\n                      <div className='mt-16'>\n                        <MyMapsList data={maps} />\n                      </div>\n                    </Sidebar.ItemGroup>\n                </Sidebar.Items>\n              </div>\n            </div>\n\n            </Sidebar>\n          \n        </Drawer.Items>\n      </Drawer>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 600, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}